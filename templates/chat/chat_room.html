{% extends "base.html" %}
{% block content %}

<div class="max-w-2xl mx-auto bg-white shadow rounded p-4">

    <h2 class="text-xl font-semibold mb-4">Chat</h2>

    <div class="h-80 overflow-y-scroll border p-3 bg-gray-50">

        {% for msg in messages %}
            <div class="mb-2 {% if msg.sender == user %}text-right{% endif %}">
                <p class="inline-block px-3 py-2 rounded-lg 
                    {% if msg.sender == user %}
                        bg-blue-600 text-white
                    {% else %}
                        bg-gray-200
                    {% endif %}">
                    {{ msg.text }}
                </p>
            </div>
        {% endfor %}

    </div>

    <form method="POST" class="flex mt-3">
        {% csrf_token %}
        <input name="message" class="flex-1 border rounded p-2" placeholder="Type a message...">
        <button class="ml-2 bg-blue-600 text-white px-4 rounded">Send</button>
    </form>

        <div class="mt-4">
        <a href="{% url 'agreements:start_agreement' inquiry.id %}"
           class="text-blue-600 underline">
            Create Agreement
        </a>
    </div>
</div>

{% endblock %}

